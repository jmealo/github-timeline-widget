function GitHubTimeline(e){function l(e){var t,r,i,s,u,a,f=[];for(var l=0,h=e.length;l<h;l++){if(n--===0)break;t=e[l],a=t[0],r=t[1],s=t[2],i=t[3],u=c(new Date-s,"years","minutes",1);f.push('<li class="github-timeline-event"><a href="'+a+'">'+'<span class="github-timeline-event-icon mini-icon mini-icon-'+r+'">'+'</span></a><div class="github-timeline-event-text"><a href="'+a+'">'+i+'</strong></a><div class="github-timeline-event-time">'+u+"</div></div></li>")}list.innerHTML=f.join("\n");delete window.parseGitHubTimeline;if(typeof o==="function")o()}function c(e){var t=[31556900,2629741,604800,86400,3600,60,1],r=["year","month","week","day","hour","minute","second"],i={year:0,month:1,week:2,day:3,hour:4,minute:5,second:6};base=1e3,time=e/base,shortest=arguments[2]?i[arguments[2].replace(/s\b/gi,"")]:6,longest=arguments[1]?i[arguments[1].replace(/s\b/gi,"")]:0,n=arguments[3]||shortest-longest;if(e<base)return"Just now";var s=0,o=[],u=0;for(var a=longest;a<=shortest;a++){s=Math.floor(time/t[a]);if(s>=1){u++;time=time-s*t[a];if(u===1&&r[a]==="day"&&s===1)return"Yesterday";o.push(s);o.push(r[a]+(o[o.length-1]>1?"s":"")+" ago")}if(u===n)break}return o.join(" ")}function h(e){function v(t){for(var n=0;n<t.length;n++){if(t[n].substr(0,1)==="$"){if(t[n]==="$repo"){t[n]=o}else if(t[n].substring(0,2)==="$."){var r=t[n].substring(2).split(".");t[n]=r.length===1?e.payload[r[0]]:e.payload[r[0]][r[1]]}else if(t[n]==="$branch"){t[n]=e.payload.ref.substr(e.payload.ref.lastIndexOf("/")+1)}if(t[n]===undefined)return null;t[n]="<strong>"+t[n]+"</strong>"}}return t.join(" ")}for(var t=0,n=["payload","type","created_at"];t<3;t++){if(!(n[t]in e)&&e[n[t]]!==null)return[]}var r,i,o,u,o="repository"in e?e.repository.owner+"/"+e.repository.name:null,a="url"in e?e.url:"url"in l?l.url:"https://github.com/",f=new Date(e.created_at),l=e.payload,c=e.type.replace("Event","");a=a.replace("github.com//","github.com/");var h={Create:{t:{repository:["created repo","$repo"],tag:["created tag","$.ref","at","$repo"],branch:["created branch","$.ref","at","$repo"]}},ForkApply:{i:"merge",t:["merged to","$repo"]},Fork:{i:"repo-forked",t:["forked ","$repo"]},Watch:{i:{started:"watching",stopped:"unwatch"},t:{started:["started watching","$repo"],stopped:["stopped watching","$repo"]}},PullRequest:{i:{opened:"issue-opened",reopened:"issue-reopened",closed:"issue-closed"},t:{opened:["opened issue on","$repo"],reopened:["reopened issue on","$repo"],closed:["closed issue on","$repo"]}},Gist:{i:{update:"gist-add",fork:"gist-forked",create:"gist"},t:{create:["created","$.name"],update:["updated","$.name"],fork:["forked","$.name"]}},Gollum:{i:"wiki",t:{created:["created a wiki page on","$repo"],edited:["edited a wiki page on","$repo"]}},CommitComment:{i:"commit-comment",t:["commented on","$repo"]},Delete:{i:"branch-delete",t:["deleted branch","$.ref","at","$repo"]},Public:{i:"public-mirror",t:["open sourced","$repo"]},IssueComment:{i:"discussion",t:["commented on an issue at","$repo"]},Member:{t:{added:["added$.member","to","$repo"]}},Push:{t:["pushed to","$branch","at","$repo"]},Follow:{t:["started following","$.target.login"]}};h.Issues=h.PullRequest;h.Wiki=h.Gollum;var p=h[c].i||c,d=h[c].t||c;i=typeof p==="string"?p:p[e.payload.action];if(typeof d==="object"&&d instanceof Array===false){u=v("ref_type"in l?d[l.ref_type]:"action"in l?d[l.action]:"action"in l.pages[0]?d[l.pages[0].action]:null)}else{u=v(d)}if(u&&i&&f&&a){var m=s.length,g=u.toLowerCase();for(var y=0;y<m;y++){if(g.indexOf(s[y])!==-1)return[]}return[a,i,f,u]}else{return[]}}function p(e){var t,n=[];for(var r=0,i=e.length;r<i;r++){t=h(e[r]);if(t.length)n.push(t)}l(n)}var t=e.username||"timeline",n=e.limit||5,r=e.header||"octocat",i=e.id||"github-timeline-widget",s=e.exclude||[],o=e.callback||null;var u=document.createElement("script");u.src="https://github.com/"+t+".json?callback=parseGitHubTimeline";if(typeof window.parseGitHubTimeline!=="function")window.parseGitHubTimeline=p;document.head.appendChild(u);i=document.getElementById(i);if(s.length>0)for(var a=0;a<s.length;a++)s[a]=s[a].toLowerCase();if(r){var f='<a class="github-timeline-header" href="'+"https://github.com/"+t+'">'+t+" on GitHub <hr></a>";if(r==="octocat")f='<span class="gh-header mega-icon mega-icon-octocat">'+f+"</span>";i.innerHTML=f}list=document.createElement("ul");list.className="github-timeline-events";i.appendChild(list)}