function GitHubTimeline(c){function v(e){function c(b){for(var a=0;a<b.length;a++)if("$"===b[a].substr(0,1)){if("$repo"===b[a])b[a]=m;else if("$."===b[a].substring(0,2)){var d=b[a].substring(2).split(".");b[a]=1===d.length?e.payload[d[0]]:e.payload[d[0]][d[1]]}else"$branch"===b[a]&&(b[a]=e.payload.ref.substr(e.payload.ref.lastIndexOf("/")+1));if(void 0===b[a])return null;b[a]="<strong>"+b[a]+"</strong>"}return b.join(" ")}for(var g=0,k=["payload","type","created_at"];3>g;g++)if(!(k[g]in e)&&null!==e[k[g]])return[];var h,m,a;m="repository"in e?e.repository.owner+"/"+e.repository.name:null;g="url"in e?e.url:"url"in a?a.url:"https://github.com/";k=new Date(e.created_at);a=e.payload;var f=e.type.replace("Event",""),g=g.replace("github.com//","github.com/"),d={Create:{t:{repository:["created repo","$repo"],tag:["created tag","$.ref","at","$repo"],branch:["created branch","$.ref","at","$repo"]}},ForkApply:{i:"merge",t:["merged to","$repo"]},Fork:{i:"repo-forked",t:["forked ","$repo"]},Watch:{i:{started:"watching",stopped:"unwatch"},t:{started:["started watching","$repo"],stopped:["stopped watching","$repo"]}},PullRequest:{i:{opened:"issue-opened",reopened:"issue-reopened",closed:"issue-closed"},t:{opened:["opened issue on","$repo"],reopened:["reopened issue on","$repo"],closed:["closed issue on","$repo"]}},Gist:{i:{update:"gist-add",fork:"gist-forked",create:"gist"},t:{create:["created","$.name"],update:["updated","$.name"],fork:["forked","$.name"]}},Gollum:{i:"wiki",t:{created:["created a wiki page on","$repo"],edited:["edited a wiki page on","$repo"]}},CommitComment:{i:"commit-comment",t:["commented on","$repo"]},Delete:{i:"branch-delete",t:["deleted branch","$.ref","at","$repo"]},Public:{i:"public-mirror",t:["open sourced","$repo"]},IssueComment:{i:"discussion",t:["commented on an issue at","$repo"]},Member:{t:{added:["added$.member","to","$repo"]}},Push:{t:["pushed to","$branch","at","$repo"]},Follow:{t:["started following","$.target.login"]}};d.Issues=d.PullRequest;d.Wiki=d.Gollum;h=d[f].i||f;f=d[f].t||f;h="string"===typeof h?h:h[e.payload.action];if((a="object"===typeof f&&!1===f instanceof Array?c("ref_type"in a?f[a.ref_type]:"action"in a?f[a.action]:"action"in a.pages[0]?f[a.pages[0].action]:null):c(f))&&h&&k&&g){for(var f=n.length,d=a.toLowerCase(),p=0;p<f;p++)if(-1!==d.indexOf(n[p]))return[];return[g,h,k,a]}return[]}function w(e){for(var c,g=[],k=0,h=e.length;k<h;k++)c=v(e[k]),c.length&&g.push(c);for(var m,a,k=[],h=0,f=g.length;h<f&&0!==x--;h++){m=g[h];c=m[0];e=m[1].toLowerCase();a=m[2];m=m[3];a:{var d=new Date-a;a=[31556900,2629741,604800,86400,3600,60,1];var p="year month week day hour minute second".split(" "),b={year:0,month:1,week:2,day:3,hour:4,minute:5,second:6},l=d/1E3,n=b["minutes".replace(/s\b/gi,"")],b=b["years".replace(/s\b/gi,"")];if(1E3>d)a="Just now";else{for(var d=0,q=[],r=0;b<=n;b++){d=Math.floor(l/a[b]);if(1<=d){r++;l-=d*a[b];if(1===r&&"day"===p[b]&&1===d){a="Yesterday";break a}if(1===r&&"week"===p[b]&&1===d){a="Last week";break a}if(1===r&&"month"===p[b]&&1===d){a="Last month";break a}q.push(d);q.push(p[b]+(1<q[q.length-1]?"s":"")+" ago")}if(1===r)break}a=q.join(" ")}}k.push('<li class="github-timeline-event"><a href="'+c+'"><span class="github-timeline-event-icon mini-icon mini-icon-'+e+'"></span></a><div class="github-timeline-event-text"><a href="'+c+'">'+m+'</strong></a><div class="github-timeline-event-time">'+a+"</div></div></li>")}list.innerHTML=k.join("\n");delete window.parseGitHubTimeline;"function"===typeof t&&t()}var l=c.username||"timeline",x=c.limit||5,u=c.header||"octocat",s=c.id||"github-timeline-widget",n=c.exclude||[],t=c.callback||null;c=document.createElement("script");c.src="https://github.com/"+l+".json?callback=parseGitHubTimeline";"function"!==typeof window.parseGitHubTimeline&&(window.parseGitHubTimeline=w);document.head.appendChild(c);s=document.getElementById(s);if(0<n.length)for(c=0;c<n.length;c++)n[c]=n[c].toLowerCase();u&&(l='<a class="github-timeline-header" href="https://github.com/'+l+'">'+l+" on GitHub <hr></a>","octocat"===u&&(l='<span class="gh-header mega-icon mega-icon-octocat">'+l+"</span>"),s.innerHTML=l);list=document.createElement("ul");list.className="github-timeline-events";s.appendChild(list)};